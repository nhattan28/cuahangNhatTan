<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gi·ªè h√†ng - C·ª≠a h√†ng Nh·∫≠t T√¢n</title>
  <link rel="stylesheet" href="common.css">
  <link rel="stylesheet" href="desktop.css">
  <link rel="stylesheet" href="mobile.css">
  <link rel="stylesheet" href="giohang.css">
</head>
<body>

      <!-- Header -->
      <header>
        <div class="logo">üõí C·ª≠a h√†ng Nh·∫≠t T√¢n</div>
        <nav class="nav-links">
          <a href="index.html">Trang ch·ªß</a>
          <a href="gioithieu.html">Gi·ªõi thi·ªáu</a>
          <a href="sanpham.html">S·∫£n ph·∫©m</a>
          <a href="lienhe.html">Li√™n h·ªá</a>
          <a href="giohang.html">Gi·ªè h√†ng</a>
        </nav>
      </header>
      
  <!-- Gi·ªè h√†ng -->
  <section class="cart-container">
    <h1>GI·ªé H√ÄNG</h1>
    <table id="cart-table">
      <thead>
        <tr>
          <th>STT</th> <!-- th√™m d√≤ng n√†y -->
          <th>T√™n s·∫£n ph·∫©m</th>
          <th>S·ªë l∆∞·ª£ng</th>
          <th>ƒê∆°n gi√°</th>
          <th>Th√†nh ti·ªÅn</th>
        </tr>
      </thead>
      <tbody id="cart-body">
        <!-- C√°c s·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
      </tbody>
    </table>

    <h3 id="total-price">T·ªïng c·ªông: 0ƒë</h3>

    <div class="payment-method">
      <p>Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n:</p>
      <label><input type="radio" name="payment" value="bank"> Chuy·ªÉn kho·∫£n ng√¢n h√†ng</label>
      <label><input type="radio" name="payment" value="cod" checked> Ti·ªÅn m·∫∑t khi nh·∫≠n h√†ng</label>

    </div>

    <!-- Th√¥ng tin chuy·ªÉn kho·∫£n -->
    <div id="bank-info" style="margin-top: 20px; text-align: center;">
      <h3>Th√¥ng tin chuy·ªÉn kho·∫£n</h3>
      <p><strong>Ng√¢n h√†ng:</strong> Agribank</p>
      <p><strong>S·ªë t√†i kho·∫£n:</strong> 8888369655015</p>
      <p><strong>Ch·ªß t√†i kho·∫£n:</strong> Tr∆∞∆°ng Nh·∫≠t T√¢n</p>
      <p><strong>S·ªë ti·ªÅn c·∫ßn chuy·ªÉn:</strong> <span id="transfer-amount"></span></p>
      <img src="https://scontent.fdad3-6.fna.fbcdn.net/v/t39.30808-6/493667408_122122951790723402_655599999649404260_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeFKS2JU3uvRqEbM-QHfJzmoL-kgxMjQYZ8v6SDEyNBhn1ykdQIDtni7HeZIUgsMVdZpDILYoU4PA70DlJlFiEkF&_nc_ohc=RxWuwKpjVxwQ7kNvwG3yycW&_nc_oc=AdlSNIAD9FQ9DJob5kbf_WTjcJl5_trkD3bC27l9_7PVuE-WV5781x0Ec9WuzZakEyBceLK-vpbTS2JjBFfhAPDR&_nc_zt=23&_nc_ht=scontent.fdad3-6.fna&_nc_gid=UnyeXXtgI-du6kKIuyjUWQ&oh=00_AfG8OpSUqCVeTtvmGi5JaZkpfQTw3r95v__P85py_UkOPw&oe=68131FDF" alt="QR Chuy·ªÉn kho·∫£n" style="max-width: 200px; margin-top: 10px;">
    </div>

    <div class="cart-buttons">
      <button onclick="clearCart()">üóëÔ∏è X√≥a to√†n b·ªô gi·ªè h√†ng</button>
      <button onclick="confirmOrder()">‚úÖ X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
    </div>
  </section>

  <!-- Footer -->
  <marquee behavior="scroll" direction="left" scrollamount="5" style="color: black; font-size: 20px; margin-top: 30px;">
    C·∫£m ∆°n qu√Ω kh√°ch ƒë√£ ·ªßng h·ªô v√† tin t∆∞·ªüng s·∫£n ph·∫©m b√™n c·ª≠a h√†ng
  </marquee>

  <!-- JavaScript -->
  <script>
    function formatMoney(amount) {
      return amount.toLocaleString('vi-VN') + 'ƒë';
    }

    function renderCart() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartBody = document.getElementById('cart-body');
      const totalPriceEl = document.getElementById('total-price');
      const transferAmount = document.getElementById('transfer-amount');

      cartBody.innerHTML = '';
      let total = 0;

      cart.forEach((item, index) => { // th√™m index v√†o ƒë√¢y
  const row = document.createElement('tr');
  const itemTotal = item.price * item.quantity;
  total += itemTotal;

  row.innerHTML = `
    <td>${index + 1}</td> <!-- STT t·ª± ƒë·ªông tƒÉng -->
    <td>${item.name}</td>
    <td>${item.quantity}</td>
    <td>${formatMoney(item.price)}</td>
    <td>${formatMoney(itemTotal)}</td>
  `;
  cartBody.appendChild(row);
});


      totalPriceEl.textContent = `T·ªïng c·ªông: ${formatMoney(total)}`;
      transferAmount.textContent = formatMoney(total);
    }

    function clearCart() {
      if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a to√†n b·ªô gi·ªè h√†ng?')) {
        localStorage.removeItem('cart');
        renderCart();
      }
    }

    function confirmOrder() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      if (cart.length === 0) {
        alert('Gi·ªè h√†ng ƒëang tr·ªëng!');
        return;
      }
      alert('üéâ ƒê·∫∑t h√†ng th√†nh c√¥ng! C·∫£m ∆°n qu√Ω kh√°ch.');
      localStorage.removeItem('cart');
      renderCart();
    }

    document.addEventListener('DOMContentLoaded', function() {
      renderCart();

      const paymentMethods = document.querySelectorAll('input[name="payment"]');
      const bankInfo = document.getElementById('bank-info');

      paymentMethods.forEach(method => {
        method.addEventListener('change', function() {
          if (this.value === 'bank') {
            bankInfo.style.display = 'block';
          } else {
            bankInfo.style.display = 'none';
          }
        });
      });

      // M·∫∑c ƒë·ªãnh: n·∫øu ch·ªçn "Chuy·ªÉn kho·∫£n" th√¨ hi·ªán, kh√¥ng th√¨ ·∫©n
      const selectedPayment = document.querySelector('input[name="payment"]:checked');
      if (selectedPayment && selectedPayment.value === 'bank') {
        bankInfo.style.display = 'block';
      } else {
        bankInfo.style.display = 'none';
      }
    });
  </script>
</marquee>
<canvas id="fallingFlowers"></canvas>
<script>
  const canvas = document.getElementById('fallingFlowers');
  const ctx = canvas.getContext('2d');
  let width = window.innerWidth;
  let height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;
  
  const flowers = [];
  
  for (let i = 0; i < 50; i++) {
    flowers.push({
      x: Math.random() * width,
      y: Math.random() * height,
      r: Math.random() * 4 + 2,
      d: Math.random() + 1,
      color: `rgba(255, 182, 193, ${Math.random()})` // m√†u h·ªìng nh·∫°t
    });
  }
  
  function drawFlowers() {
    ctx.clearRect(0, 0, width, height);
    ctx.beginPath();
    flowers.forEach(flower => {
      ctx.moveTo(flower.x, flower.y);
      ctx.arc(flower.x, flower.y, flower.r, 0, Math.PI * 2, true);
    });
    ctx.fillStyle = "pink";
    ctx.fill();
    moveFlowers();
  }
  
  function moveFlowers() {
    flowers.forEach(flower => {
      flower.y += Math.pow(flower.d, 2) + 1;
      flower.x += Math.sin(flower.y * 0.01);
  
      if (flower.y > height) {
        flower.y = 0;
        flower.x = Math.random() * width;
      }
    });
  }
  
  setInterval(drawFlowers, 25);
  
  window.addEventListener('resize', () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  });
  </script>    
</body>
</html>
